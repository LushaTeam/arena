<div class="pull-right top-right-buttons">
  <button class="btn btn-danger js-pause-queues">
    Pause All
  </button>
  <button class="btn btn-primary js-resume-queues">
    Resume All
  </button>
</div>

<h2>Queues</h2>

<div class="queue-list-scrollbar">
  <table id="queueList" class="table table-striped table-bordered table-condensed">
    <thead>
      {{#if this.shoHostColumn }}
        <th>Host</th>
      {{/if}}
      <th>Name</th>
      <th class="{{#if this.active }}bg-success{{/if}}">{{ toLocaleString this.active }} Active</th>
      <th class="{{#if this.waiting }}bg-warning{{/if}}">{{ toLocaleString this.waiting }} Waiting</th>
      <th>{{ toLocaleString this.completedLastHourCount }} Completed - Last Hour</th>
      <th>{{ toLocaleString this.completedLastDayCount }} Completed - Last Day</th>
      <th class="{{#if this.failedLastHourCount }}bg-danger{{/if}}">{{ toLocaleString this.failedLastHourCount }} Failed - Last Hour</th>
      <th class="{{#if this.failedLastDayCount }}bg-danger{{/if}}">{{ toLocaleString this.failedLastDayCount }} Failed - Last Day</th>
    </thead>
    <tbody>
      {{#each queues}}
        <tr>
          {{#if this.shoHostColumn }}
            <td>{{ this.hostId }}</td>
          {{/if}}
          <td><a href="{{ ../basePath }}/{{ encodeURI this.hostId }}/{{ encodeURI this.name }}">{{ this.name }}</a></td>
          <td class="{{#if this.activeCount }}bg-success{{/if}}">{{ toLocaleString this.activeCount }}</td>
          <td class="{{#if this.waitingCount }}bg-warning{{/if}}">{{ toLocaleString this.waitingCount }}</td>
          <td>{{ toLocaleString this.completedLastHourCount }}</td>
          <td>{{ toLocaleString this.completedLastDayCount }}</td>
          <td class="{{#if this.failedLastHourCount }}bg-danger{{/if}}">{{ toLocaleString this.failedLastHourCount }}</td>
          <td class="{{#if this.failedLastDayCount }}bg-danger{{/if}}">{{ toLocaleString this.failedLastDayCount }}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

{{#contentFor 'sidebar'}}
  <li class="active"><a href="#">Queues Overview</a></li>
{{/contentFor}}

{{#contentFor 'script'}}
  new Tablesort(document.getElementById('queueList'));
{{/contentFor}}
